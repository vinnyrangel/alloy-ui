AUI.add("aui-overlay-context-panel",function(i){var e=i.Lang,x=e.isBoolean,f=e.isString,C=e.isObject,P="align",a="anim",z="arrow",g="backgroundColor",k="",K="boundingBox",D="click",s="contentBox",Q="overlaycontextpanel",F="default",o=".",H="end",I="hidden",w="inner",l="opacity",z="arrow",b="showArrow",N="style",O="visible",E="bc",y="bl",v="br",m="cc",q="lb",p="lc",j="lt",t="rb",r="rc",n="rl",d=i.getClassName,h=d(Q),G=d(Q,z,k),J=d(Q,I),G=d(Q,z),B=d(Q,z,w),M='<div class="'+[G].join(" ")+'"></div>',u='<div class="'+B+'"></div>';var c=i.Component.create({NAME:Q,ATTRS:{anim:{lazyAdd:false,value:{show:false},setter:function(A){return this._setAnim(A);}},arrow:{value:null,validator:f},hideOn:{value:D},showOn:{value:D},showArrow:{lazyAdd:false,value:true,validator:x},stack:{lazyAdd:false,value:true,setter:function(A){return this._setStack(A);},validator:x}},EXTENDS:i.OverlayContext,prototype:{bindUI:function(){var A=this;A.after("showArrowChange",A._afterShowArrowChange);A.before("show",A._beforeShow);c.superclass.bindUI.apply(A,arguments);},renderUI:function(){var A=this;A._renderElements();},syncUI:function(){var A=this;c.superclass.syncUI.apply(A,arguments);},align:function(R,L){var A=this;c.superclass.align.apply(this,arguments);},getAlignPoint:function(){var A=this;var L=A.get(P).points[0];if(L==m){L=E;}return A.get(z)||L;},hide:function(L){var A=this;if(A._hideAnim){var R=A.get(O);if(R){A._hideAnim.once(H,function(){c.superclass.hide.apply(A,arguments);});A._hideAnim.run();}}else{c.superclass.hide.apply(A,arguments);}},_renderElements:function(){var A=this;var L=A.get(K);var S=A.get(P);var R=S.points[0];if(A.get(b)){A._renderPointerNode();}},_renderPointerNode:function(){var A=this;var L=A.get(K);A._pointerNode=i.Node.create(M).append(u);L.append(A._pointerNode);},_setStack:function(L){var A=this;if(L){i.OverlayContextPanelManager.register(A);}else{i.OverlayContextPanelManager.remove(A);}return L;},_setAnim:function(T){var A=this;var L=A.get(K);if(T){var U={node:L,duration:0.1};var R=i.merge(U,{from:{opacity:0},to:{opacity:1}});var S=i.merge(U,{from:{opacity:1},to:{opacity:0}});if(C(T)){R=i.merge(R,T.show);S=i.merge(S,T.hide);}A._showAnim=new i.Anim(R);A._hideAnim=new i.Anim(S);if(C(T)){if(T.show===false){A._showAnim=null;}if(T.hide===false){A._hideAnim=null;}}}return T;},_beforeShow:function(R){var A=this;var L=A.get(K);var S=A.get(O);if(!S&&A._showAnim){L.setStyle(l,0);A._showAnim.run();}else{L.setStyle(l,1);}}}});i.OverlayContextPanel=c;i.OverlayContextPanelManager=new i.OverlayManager({zIndexBase:1000});},"@VERSION@",{requires:["aui-overlay-context","anim"],skinnable:false});